{
	"environments": [
		{ "browserName": "node" }
	],

	"suites": [
		"./_build/tests/unit/**/*.js"
	],

	"functionalSuites": [
		"./_build/tests/functional/**/*.js"
	],

	"plugins": [
		"./_build/tests/plugins/echo-service.js"
	],

	"browser": {
		"suites": [
			"!./_build/tests/unit/on/nodeOnly.js",
			"!./_build/tests/unit/request/node.js",
			"!./_build/tests/unit/request_node.js",
			"!./_build/tests/unit/text_node.js"
		],

		"loader": {
			"script": "dojo2",
			"options": {
				"packages": [
					{ "name": "src", "location": "_build/src" },
					{ "name": "tests", "location": "_build/tests" },
					{ "name": "dojo", "location": "node_modules/intern/browser_modules/dojo" },
					{ "name": "@dojo", "location": "node_modules/@dojo" },
					{ "name": "sinon", "location": "node_modules/sinon/pkg", "main": "sinon" },
					{ "name": "grunt-dojo2", "location": "node_modules/grunt-dojo2"}
				]
			}
		}
	},

	"node": {
		"suites": [
			"!./_build/tests/unit/on/browserOnly.js",
			"!./_build/tests/unit/request/xhr.js",
			"!./_build/tests/unit/request_browser.js",
			"!./_build/tests/unit/text_browser.js",
			"!./_build/tests/unit/text_node.js",
			"!./_build/tests/unit/text.js"
		],

		"reporters": {
			"name": "runner",
			"options": { "hideSkipped": true, "hidePassed": true }
		}
	},

	"configs": {
		"coverage": {
			"coverage": [
				"./_build/src/**/*.js"
			]
		},

		"remoteCapabilities": {
			"capabilities": {
				"project": "Dojo 2",
				"name": "@dojo/core",
				"fixSessionCapabilities": false
			}
		},

		"browserstack": {
			"extends": [ "coverage", "remoteCapabilities" ],

			"tunnel": "browserstack",
			"capabilities+": {
				"browserstack.debug": false
			},

			"environments+": [
				{ "browserName": "internet explorer", "version": "11" },
				{ "browserName": "edge" },
				{ "browserName": "firefox", "platform": "WINDOWS" },
				{ "browserName": "chrome", "platform": "WINDOWS" }
				// Issue with iphone 9.1 and Safari compatability, commented out for move to
				// browserstack and issue raised - https://github.com/dojo/core/issues/338
				// { browserName: 'safari', version: '9.1', platform: 'MAC' },
				// { browserName: 'iPhone', version: '9.1' }
			],

			"maxConcurrency": 5
		},

		"local": {
			"extends": [ "coverage" ],

			"tunnel": "selenium",
			"tunnelOptions": {
				"hostname": "localhost",
				"port": 4444
			},

			"environments+": [
				{ "browserName": "chrome", "fixSessionCapabilities": false }
			]
		},

		"saucelabs": {
			"extends": [ "coverage", "remoteCapabilities" ],

			"tunnel": "saucelabs",
			"tunnelOptions": {},

			"defaultTimeout": 10000,
			"environments+": [
				{ "browserName": "internet explorer", "version": [ "11.0" ], "platform": "Windows 7" },
				// { browserName: 'microsoftedge', platform: 'Windows 10' },
				{ "browserName": "firefox", "version": "43", "platform": "Windows 10" },
				{ "browserName": "chrome", "platform": "Windows 10" }
				// { browserName: 'safari', version: '9', platform: 'OS X 10.11' },
				// { browserName: 'android', platform: 'Linux', version: '4.4', deviceName: 'Google Nexus 7 HD Emulator' }// ,
				// { browserName: 'iphone', version: '9.1', deviceName: 'iPhone 6' }
			],
			"maxConcurrency": 4
		}
	}
}
